<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Firewatch Reports - Reportes Comunitarios</title>
    <link rel="stylesheet" href="/assets/style.css">
</head>
<body>
    <main class="container">
        <header>
            <div class="header-toggles">
                <div class="toggle-group">
                    <a href="/report.html" class="toggle-btn">EN</a>
                    <span class="toggle-btn active">ES</span>
                </div>
                <button type="button" class="theme-toggle" id="theme-toggle" aria-label="Cambiar tema">
                    <span class="theme-icon-light">&#9790;</span>
                    <span class="theme-icon-dark">&#9788;</span>
                </button>
            </div>
            <h1>Firewatch Reports</h1>
            <p class="tagline">Reportes Comunitarios Anónimos</p>
        </header>

        <section class="info-dropdowns">
            <details class="dropdown">
                <summary class="dropdown-header">
                    <span>Tu Privacidad Está Protegida</span>
                    <span class="dropdown-arrow"></span>
                </summary>
                <div class="dropdown-content">
                    <ul>
                        <li><strong>Sin Registro de IP</strong> - No guardamos tu dirección IP</li>
                        <li><strong>Sin Cookies</strong> - No almacenamos nada en tu dispositivo</li>
                        <li><strong>Sin Rastreo</strong> - Sin análisis ni scripts de terceros</li>
                        <li><strong>Sin Cuenta Requerida</strong> - Envía reportes sin registrarte</li>
                        <li><strong>Metadatos Eliminados</strong> - Las fotos se limpian de datos de ubicación</li>
                        <li><strong>Compatible con Tor</strong> - Funciona con el navegador Tor</li>
                    </ul>
                    <a href="/privacy.html" class="link-subtle">Más información sobre protección de privacidad</a>
                </div>
            </details>

            <details class="dropdown">
                <summary class="dropdown-header">
                    <span>Qué Reportar</span>
                    <span class="dropdown-arrow"></span>
                </summary>
                <div class="dropdown-content">
                    <p>Puedes reportar observaciones de mala conducta policial, como:</p>
                    <ul>
                        <li>Uso excesivo o innecesario de la fuerza</li>
                        <li>Detenciones, registros o arrestos ilegales</li>
                        <li>Acoso o intimidación por parte de oficiales</li>
                        <li>Perfilamiento racial o trato discriminatorio</li>
                        <li>Negarse a identificarse o dar número de placa</li>
                        <li>Destrucción o confiscación de dispositivos de grabación</li>
                        <li>Siembra de evidencia o falsificación de reportes</li>
                        <li>Robo o daño a propiedad durante registros</li>
                    </ul>
                    <p class="note">
                        <strong>Documenta con seguridad:</strong> Si es posible, anota números de placa,
                        números de patrulla, hora, ubicación y testigos. Tu seguridad es primero.
                    </p>
                </div>
            </details>
        </section>

        <form id="report-form" action="/api/submit" method="POST" enctype="multipart/form-data">
            <input type="hidden" name="lang" value="es">

            <section class="form-section salute-intro">
                <h2>Formato ACTUAR</h2>
                <p class="section-hint">Usa este formato estructurado para proporcionar información útil. Todos los campos son opcionales excepto la actividad.</p>
            </section>

            <!-- A - Actividad -->
            <section class="form-section">
                <h2><span class="salute-letter">A</span> Actividad <span class="required">*</span></h2>
                <div class="field">
                    <label for="activity">¿Qué pasó? <span class="required">*</span></label>
                    <textarea
                        id="activity"
                        name="activity"
                        rows="4"
                        required
                        placeholder="ej., Oficiales realizaron una parada sin causa probable, usaron fuerza excesiva durante el arresto, registraron el vehículo sin consentimiento..."
                    ></textarea>
                </div>
            </section>

            <!-- C - Cuántos -->
            <section class="form-section">
                <h2><span class="salute-letter">C</span> Cuántos</h2>
                <div class="field">
                    <label for="size">Número de personal y vehículos</label>
                    <input
                        type="text"
                        id="size"
                        name="size"
                        placeholder="ej., 3 oficiales, 2 patrullas"
                    >
                </div>
            </section>

            <!-- T - Tiempo -->
            <section class="form-section">
                <h2><span class="salute-letter">T</span> Tiempo</h2>
                <div class="field">
                    <label for="time">
                        ¿Cuándo ocurrió?
                        <button type="button" class="inline-btn" id="now-btn">Ahora</button>
                    </label>
                    <input
                        type="text"
                        id="time"
                        name="time"
                        placeholder="ej., 3:45 PM, ayer por la tarde, martes en la mañana"
                    >
                </div>
            </section>

            <!-- U - Ubicación -->
            <section class="form-section">
                <h2><span class="salute-letter">U</span> Ubicación</h2>
                <div class="field">
                    <label for="location">¿Dónde ocurrió?</label>
                    <input
                        type="text"
                        id="location"
                        name="location"
                        placeholder="ej., Calle Principal y 5ta Avenida, detrás de la tienda en Calle Roble"
                    >
                </div>
            </section>

            <!-- A - Armas -->
            <section class="form-section">
                <h2><span class="salute-letter">A</span> Armas</h2>
                <div class="field">
                    <label for="equipment">Vehículos, armas, equipo</label>
                    <textarea
                        id="equipment"
                        name="equipment"
                        rows="2"
                        placeholder="ej., patrulla marcada unidad #452, placa ABC-1234, pistola desenfundada, cámaras corporales apagadas"
                    ></textarea>
                </div>
            </section>

            <!-- R - Ropa -->
            <section class="form-section">
                <h2><span class="salute-letter">R</span> Ropa</h2>
                <div class="field">
                    <label for="uniform">Uniformes, placas, agencia</label>
                    <textarea
                        id="uniform"
                        name="uniform"
                        rows="2"
                        placeholder="ej., Policía Municipal, placa #1234, etiqueta 'García', equipo táctico, ropa civil"
                    ></textarea>
                </div>
            </section>

            <!-- Media Upload -->
            <section class="form-section">
                <h2>Fotos o Videos (Opcional)</h2>
                <div class="field">
                    <label for="media">Subir archivos</label>
                    <div class="file-upload" id="file-upload-area">
                        <input
                            type="file"
                            id="media"
                            name="media"
                            multiple
                            accept="image/jpeg,image/png,image/gif,image/webp,video/mp4,video/webm"
                        >
                        <p>Arrastra y suelta archivos aquí, o haz clic para seleccionar</p>
                        <p class="field-hint">Máximo 5 archivos, 10MB cada uno. JPEG, PNG, GIF, WebP, MP4, WebM</p>
                    </div>
                    <div id="file-list" class="file-list"></div>
                    <p class="privacy-note">
                        <strong>Privacidad:</strong> Los datos de ubicación y otros metadatos serán
                        eliminados automáticamente de tus fotos antes de enviar.
                    </p>
                </div>
            </section>

            <!-- Additional Info -->
            <section class="form-section">
                <h2>Información Adicional (Opcional)</h2>
                <div class="field">
                    <label for="additional_info">Cualquier otra información relevante</label>
                    <textarea
                        id="additional_info"
                        name="additional_info"
                        rows="3"
                        placeholder="ej., testigos presentes, información de la víctima (con su consentimiento), patrón de comportamiento, incidentes relacionados..."
                    ></textarea>
                </div>
            </section>

            <section class="form-actions">
                <button type="submit" class="button primary" id="submit-btn">Enviar Reporte</button>
                <button type="reset" class="button secondary">Limpiar Formulario</button>
            </section>

            <p class="disclaimer">
                Al enviar este reporte, confirmas que la información proporcionada es verdadera
                según tu conocimiento. Reportes falsos pueden tener consecuencias legales.
            </p>
        </form>

        <footer>
            <p><a href="/privacy.html">Política de Privacidad</a></p>
        </footer>
    </main>

    <script src="/assets/report.js"></script>
</body>
</html>
