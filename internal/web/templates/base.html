{{define "base"}}<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{block "title" .}}Firewatch{{end}}</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  {{block "body" .}}{{end}}
</body>
</html>
{{end}}

{{define "admin_nav"}}
<nav class="admin-sidebar">
  <div class="sidebar-brand">&#128293; Firewatch</div>
  <div class="sidebar-links">
    <a href="/admin/report" class="sidebar-link">Form Editor</a>
    <a href="/admin/settings" class="sidebar-link">Settings</a>
    <a href="/admin/users" class="sidebar-link">Users</a>
    <a href="/admin/stats" class="sidebar-link">Stats</a>
  </div>
  <div class="sidebar-bottom">
    <a href="/admin/help" class="sidebar-link">Help</a>
    <a href="/" target="_blank" class="sidebar-live-link">&#8599; View Live Page</a>
    <form method="POST" action="/api/admin/logout">
      <button type="submit" class="sidebar-logout-btn">Log Out</button>
    </form>
  </div>
</nav>
<script>
  document.querySelectorAll('.sidebar-link').forEach(function(a) {
    if (a.getAttribute('href') === location.pathname) a.classList.add('active');
  });
</script>
{{end}}
